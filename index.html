<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>MRizkyP's CV</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- Tailwind CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  
  <!-- html2pdf -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  
  <!-- Font Awesome for download icon -->
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-rpU7vN4fRVvEzw3QnMLQqShA8JYxNztv9v4vSxE4VE9mt3FIKM+nYQv7l2yfM+mkM42Wv7ApzClWUJyp4WcFqg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    #cv-ats {
      width: 100%;
      max-width: 210mm;
      padding: 20mm;
      font-family: Arial, sans-serif;
      font-size: 12pt;
      line-height: 1.6;
      color: #000;
      background-color: #fff;
    }

    #cv-ats h1 {
      font-size: 22pt;
      font-weight: bold;
      margin-bottom: 10pt;
    }

    #cv-ats h2 {
      font-size: 16pt;
      font-weight: bold;
      margin-top: 20pt;
      margin-bottom: 8pt;
      border-bottom: 1px solid #ccc;
      padding-bottom: 4pt;
      page-break-after: avoid;
    }

    #cv-ats p, #cv-ats li {
      margin: 4pt 0;
      font-size: 12pt;
      font-weight: normal;
      text-align: justify;
      page-break-inside: avoid;
    }

    #cv-ats ul {
      margin-left: 20pt;
    }

    #cv-ats em {
      font-style: italic;
    }

    .page-break {
      page-break-before: always;
      break-before: page;
    }
  </style>
</head>
<body class="bg-white text-gray-800 font-sans p-10">

  <!-- Responsive Button -->
<!-- Wrapper Flex Container -->
<div class="flex justify-end mb-4">
  <button
    id="download-btn"
    class="w-10 h-10 md:w-auto md:h-auto bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition flex items-center justify-center gap-2"
  >
    <!-- Icon for mobile -->
    <i class="fa-solid fa-download block md:hidden text-lg"></i>
    <!-- Text for desktop -->
    <span class="hidden md:inline">Download My Profile</span>
  </button>
</div>

  <div id="cv-content">
    <div class="hidden" id="cv-ats"></div>

    <header class="text-center mb-12">
      <img id="profile-photo" src="profile.jpg" alt="Profile Photo" class="mx-auto rounded-full w-32 h-32 mb-4" />
      <h1 id="name" class="text-4xl font-bold"></h1>
      <p id="title" class="text-lg text-gray-600"></p>
      <p id="contact" class="text-sm mt-2"></p>
    </header>

    <section class="mb-8">
      <h2 class="text-2xl font-semibold border-b pb-2 mb-4 flex justify-between items-center">Summary
        <button class="toggle-btn text-blue-500 text-sm">‚ûñ</button>
      </h2>
      <div id="summary" class="section-content"></div>
    </section>

    <section class="mb-8">
      <h2 class="text-2xl font-semibold border-b pb-2 mb-4 flex justify-between items-center">üíº Experience
        <button class="toggle-btn text-blue-500 text-sm">‚ûñ</button>
      </h2>
      <div id="experiences" class="section-content"></div>
    </section>

    <section class="mb-8">
      <h2 class="text-2xl font-semibold border-b pb-2 mb-4 flex justify-between items-center">üéì Education
        <button class="toggle-btn text-blue-500 text-sm">‚ûñ</button>
      </h2>
      <div id="education" class="section-content"></div>
    </section>

    <section class="mb-8">
      <h2 class="text-2xl font-semibold border-b pb-2 mb-4 flex justify-between items-center">üõ†Ô∏è Skills
        <button class="toggle-btn text-blue-500 text-sm">‚ûñ</button>
      </h2>
      <div id="skills" class="text-sm section-content"></div>
    </section>

    <section class="mb-8">
      <h2 class="text-2xl font-semibold border-b pb-2 mb-4 flex justify-between items-center">üìÇ Projects
        <button class="toggle-btn text-blue-500 text-sm">‚ûñ</button>
      </h2>
      <ul id="projects" class="list-disc list-inside text-sm section-content"></ul>
    </section>

    <section>
      <h2 class="text-2xl font-semibold border-b pb-2 mb-4 flex justify-between items-center">üìú Certifications
        <button class="toggle-btn text-blue-500 text-sm">‚ûñ</button>
      </h2>
      <ul id="certifications" class="list-disc list-inside text-sm section-content"></ul>
    </section>
  </div>

  <!-- Scripts -->
  <script src="./data.js?v=1.0.0" defer></script>
  <script src="./renderWeb.js" defer></script>
  <script src="./renderATS.js" defer></script>
  <script src="./download.js" defer></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".toggle-btn").forEach(btn => {
        btn.addEventListener("click", () => {
          const content = btn.parentElement.nextElementSibling;
          content.classList.toggle("hidden");
          btn.textContent = content.classList.contains("hidden") ? "‚ûï" : "‚ûñ";
        });
      });
    });
  </script>
</body>
</html>