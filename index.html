<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Profile of MRizkyP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- External Styles -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="./assets/ats.css" />

  <!-- External Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body class="bg-white text-gray-800 font-sans p-10">
  <div id="access-time" class="fixed top-2 left-2 text-xs text-gray-500"></div>

  <!-- Loading Overlay -->
  <div id="loading-overlay" class="fixed inset-0 bg-white bg-opacity-75 z-50 flex items-center justify-center hidden">
    <div class="text-center">
      <svg class="animate-spin h-8 w-8 text-blue-600 mx-auto mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" />
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8z" />
      </svg>
      <p class="text-blue-700 text-sm font-medium">Downloading CV...</p>
    </div>
  </div>

  <!-- Download Button -->
  <div class="flex justify-end mb-4">
    <button id="download-btn" class="w-10 h-10 md:w-auto md:h-auto bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition flex items-center justify-center gap-2">
      <i class="fa-solid fa-download block md:hidden text-lg"></i>
      <span class="hidden md:inline">Download CV</span>
    </button>
  </div>

  <!-- Main Content -->
  <main id="cv-content">
    <div id="cv-ats" class="hidden"></div>
    <div id="profile"></div>
    <div id="summary"></div>
    <div id="experiences"></div>
    <div id="education"></div>
    <div id="skills"></div>
    <div id="projects"></div>
    <div id="certifications"></div>
  </main>

  <!-- Entry Script -->
  <script type="module">
    import { renderWebView } from './src/organisms/renderWebView.js';
    import { cvData } from './src/data.js';
    import './src/atoms/timestamp.js';
    import { initializeToggleButtons } from './src/atoms/toggleSection.js';
    import './src/organisms/download.js';

    window.onload = () => {
      renderWebView(cvData);
      initializeToggleButtons();
    };
  </script>
</body>

</html>